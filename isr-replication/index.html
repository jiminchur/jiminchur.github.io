<!DOCTYPE html><html lang="ko-KR"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.3"/><meta name="google-site-verification" content="8S_Mw0mv7GLoU3RUjU4QDKWdAlp0HoRT2hSz0kvNIC0"/><meta http-equiv="Content-Security-Policy" content="default-src &#x27;self&#x27;; script-src &#x27;self&#x27; &#x27;unsafe-inline&#x27; &#x27;unsafe-eval&#x27; https://utteranc.es https://www.googletagmanager.com https://cdn.jsdelivr.net; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27; https://fonts.googleapis.com https://cdn.jsdelivr.net; font-src &#x27;self&#x27; https://fonts.gstatic.com https://cdn.jsdelivr.net; img-src &#x27;self&#x27; data: https: blob:; connect-src &#x27;self&#x27; https:; frame-src https://utteranc.es; object-src &#x27;none&#x27;; base-uri &#x27;self&#x27;;"/><meta http-equiv="X-XSS-Protection" content="1; mode=block"/><meta http-equiv="X-Content-Type-Options" content="nosniff"/><meta http-equiv="X-Frame-Options" content="DENY"/><meta name="referrer-policy" content="strict-origin-when-cross-origin"/><meta name="description" content="Kafka의 고가용성과 내결함성을 보장하는 핵심 매커니즘인 ISR(In-Sync Replicas)과 Replication(복제)에 대해 설명합니다. Replication이란 무엇이며, ISR이 어떤 역할을 하며 왜 중요한지, Kafka 클러스터 운영 시 발생할 수 있는 Replica 불일치 상황, Leader 선출, 데이터 유실 방지 전략까지 함께 다룹니다." data-gatsby-head="true"/><meta name="viewport" content="width=device-width, initial-scale=1.0" data-gatsby-head="true"/><meta http-equiv="Content-Type" content="text/html;charset=UTF-8" data-gatsby-head="true"/><meta name="robots" content="index,follow" data-gatsby-head="true"/><meta name="format-detection" content="telephone=no" data-gatsby-head="true"/><meta name="author" content="MinChur" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:title" content="ISR과 Replication에 대해서" data-gatsby-head="true"/><meta property="og:description" content="Kafka의 고가용성과 내결함성을 보장하는 핵심 매커니즘인 ISR(In-Sync Replicas)과 Replication(복제)에 대해 설명합니다. Replication이란 무엇이며, ISR이 어떤 역할을 하며 왜 중요한지, Kafka 클러스터 운영 시 발생할 수 있는 Replica 불일치 상황, Leader 선출, 데이터 유실 방지 전략까지 함께 다룹니다." data-gatsby-head="true"/><meta property="og:url" content="https://jiminchur.github.io/isr-replication" data-gatsby-head="true"/><meta property="og:site_name" content="Minchur Gatsby Blog" data-gatsby-head="true"/><meta property="og:locale" content="ko-KR" data-gatsby-head="true"/><meta property="og:image" content="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="twitter:title" content="ISR과 Replication에 대해서" data-gatsby-head="true"/><meta name="twitter:description" content="Kafka의 고가용성과 내결함성을 보장하는 핵심 매커니즘인 ISR(In-Sync Replicas)과 Replication(복제)에 대해 설명합니다. Replication이란 무엇이며, ISR이 어떤 역할을 하며 왜 중요한지, Kafka 클러스터 운영 시 발생할 수 있는 Replica 불일치 상황, Leader 선출, 데이터 유실 방지 전략까지 함께 다룹니다." data-gatsby-head="true"/><meta name="twitter:image" content="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png" data-gatsby-head="true"/><style data-href="/styles.a3d0909fa439ecbe14cb.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:0 0;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}:root,[data-theme=light]{--primary-color:#007acc;--primary-hover:#005a99;--success-color:#38a169;--success-hover:#2f855a;--bg-color:#fff;--card-bg:#fff;--input-bg:#fff;--dropdown-bg:#fff;--hover-bg:#f8f9fa;--nav-bg:#f8f9fa;--nav-hover-bg:#e9ecef;--related-posts-bg:#f8f9fa;--text-color:#333;--secondary-text:#666;--meta-color:#666;--description-color:#666;--placeholder-color:#999;--icon-color:#666;--border-color:#e9ecef;--code-border:#4a5568;--code-block-bg:#2d3748;--code-header-bg:#1a202c;--code-language-color:#a0aec0;--copy-button-bg:#4a5568;--copy-button-hover:#718096;--scrollbar-track:#1a202c;--scrollbar-thumb:#4a5568;--scrollbar-thumb-hover:#718096;--inline-code-bg:#f1f3f5;--inline-code-color:#c7254e;--tag-bg:#e9ecef;--tag-color:#495057}[data-theme=dark]{--primary-color:#4299e1;--primary-hover:#3182ce;--success-color:#48bb78;--success-hover:#38a169;--bg-color:#1a202c;--card-bg:#2d3748;--input-bg:#2d3748;--dropdown-bg:#2d3748;--hover-bg:#4a5568;--nav-bg:#2d3748;--nav-hover-bg:#4a5568;--related-posts-bg:#2d3748;--text-color:#e2e8f0;--secondary-text:#a0aec0;--meta-color:#a0aec0;--description-color:#cbd5e0;--placeholder-color:#718096;--icon-color:#a0aec0;--border-color:#4a5568;--code-border:#718096;--code-block-bg:#1a202c;--code-header-bg:#0f131a;--code-language-color:#718096;--copy-button-bg:#2d3748;--copy-button-hover:#4a5568;--scrollbar-track:#0f131a;--scrollbar-thumb:#2d3748;--scrollbar-thumb-hover:#4a5568;--inline-code-bg:#2d3748;--inline-code-color:#f687b3;--tag-bg:#4a5568;--tag-color:#e2e8f0}body{background-color:var(--bg-color);color:var(--text-color);transition:background-color .3s ease,color .3s ease}#content{letter-spacing:.01em;line-height:1.7;max-width:100%}#content p{font-size:16px;line-height:1.7;margin:1em 0;overflow-wrap:break-word;word-break:keep-all}#content h1,#content h2,#content h3,#content h4,#content h5,#content h6{color:var(--text-color);font-weight:700;line-height:1.3;margin:1.5em 0 .8em}#content h1{font-size:2.2em}#content h2{font-size:1.8em}#content h3{font-size:1.5em}#content h4{font-size:1.3em}#content h5{font-size:1.1em}#content h6{font-size:1em}#content h1:first-child,#content h2:first-child,#content h3:first-child{margin-top:0}#content ol,#content ul{margin:1em 0;padding-left:2em}#content li{line-height:1.6}#content li,#content li p{margin:.3em 0}#content a{border-bottom:1px solid var(--primary-color);color:var(--primary-color);text-decoration:none;transition:all .2s ease}#content a:hover{background-color:var(--primary-color);border-radius:2px;color:#fff;padding:0 2px}#content blockquote{background:var(--related-posts-bg);border-left:4px solid var(--primary-color);border-radius:0 8px 8px 0;font-style:italic;margin:1.5em 0;padding:1em 1.5em;position:relative}#content blockquote:before{color:var(--primary-color);content:'"';font-family:Georgia,serif;font-size:3em;left:8px;opacity:.3;position:absolute;top:-5px}#content blockquote p{color:var(--text-color);margin:0}#content table{background:var(--card-bg);border-collapse:collapse;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);margin:1.5em 0;overflow:hidden;width:100%}#content td,#content th{border-bottom:1px solid var(--border-color);padding:12px 16px;text-align:left}#content th{background:var(--nav-bg);color:var(--text-color);font-weight:600}#content tr:last-child td{border-bottom:none}#content tr:hover{background:var(--hover-bg)}#content img{border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);display:block;height:auto;margin:1.5em auto;max-width:100%}#content hr{background:linear-gradient(90deg,transparent,var(--border-color),transparent);border:none;height:1px;margin:2em 0}#content :focus{border-radius:2px;outline:2px solid var(--primary-color);outline-offset:2px}#content b,#content strong{color:var(--text-color);font-size:1.05em;font-weight:700}#content em,#content i{color:var(--text-color);font-style:italic}@media (max-width:768px){#content{font-size:15px;line-height:1.6}#content p{font-size:15px;margin:.8em 0}#content h1{font-size:1.8em}#content h2{font-size:1.5em}#content h3{font-size:1.3em}#content h1,#content h2,#content h3{margin:1.2em 0 .6em}#content blockquote{margin:1em -10px;padding:.8em 1em}#content table{font-size:14px}#content td,#content th{padding:8px 12px}}html{scroll-behavior:smooth}::selection{background:var(--primary-color);color:#fff}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style data-styled="" data-styled-version="6.1.16">.gmcxKj{position:relative;display:flex;align-items:center;max-width:400px;width:100%;}/*!sc*/
data-styled.g1[id="SearchBox__SearchContainer-sc-138re12-0"]{content:"gmcxKj,"}/*!sc*/
.cOzVSl{width:100%;padding:10px 40px 10px 15px;border:2px solid var(--border-color,#e1e5e9);border-radius:20px;font-size:14px;outline:none;background-color:var(--input-bg,white);color:var(--text-color,#333);transition:all 0.3s ease;}/*!sc*/
.cOzVSl:focus{border-color:var(--primary-color,#007acc);box-shadow:0 0 0 3px rgba(0,122,204,0.1);}/*!sc*/
.cOzVSl::placeholder{color:var(--placeholder-color,#999);}/*!sc*/
data-styled.g2[id="SearchBox__SearchInput-sc-138re12-1"]{content:"cOzVSl,"}/*!sc*/
.iBwHlu{position:absolute;right:15px;color:var(--icon-color,#666);pointer-events:none;}/*!sc*/
data-styled.g3[id="SearchBox__SearchIcon-sc-138re12-2"]{content:"iBwHlu,"}/*!sc*/
.gmoVlL{background:none;border:none;cursor:pointer;font-size:20px;padding:8px;border-radius:50%;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;}/*!sc*/
.gmoVlL:hover{background-color:var(--hover-bg);transform:scale(1.1);}/*!sc*/
data-styled.g8[id="DarkModeToggle__ToggleButton-sc-3tujz8-0"]{content:"gmoVlL,"}/*!sc*/
.hLqbYu{display:flex;justify-content:space-between;align-items:center;height:80px;gap:20px;}/*!sc*/
@media (max-width:1024px){.hLqbYu{flex-direction:column;height:auto;padding:20px 0;gap:15px;}}/*!sc*/
data-styled.g9[id="Header__Wrapper-sc-lsf90r-0"]{content:"hLqbYu,"}/*!sc*/
.bOylUk{display:flex;align-items:center;gap:20px;}/*!sc*/
@media (max-width:1024px){.bOylUk{flex-direction:column;gap:15px;width:100%;}}/*!sc*/
data-styled.g10[id="Header__LeftSection-sc-lsf90r-1"]{content:"bOylUk,"}/*!sc*/
.hFrQCC{display:flex;align-items:center;gap:15px;}/*!sc*/
@media (max-width:1024px){.hFrQCC{justify-content:center;}}/*!sc*/
data-styled.g11[id="Header__RightSection-sc-lsf90r-2"]{content:"hFrQCC,"}/*!sc*/
.iDRzOI{font-size:15px;font-weight:700;text-decoration:none;color:inherit;white-space:nowrap;}/*!sc*/
data-styled.g12[id="Header__Title-sc-lsf90r-3"]{content:"iDRzOI,"}/*!sc*/
@media (max-width:1024px){.hIvsUi{width:100%;max-width:400px;}}/*!sc*/
data-styled.g13[id="Header__SearchContainer-sc-lsf90r-4"]{content:"hIvsUi,"}/*!sc*/
.kxbkeE{display:flex;gap:15px;font-size:25px;}/*!sc*/
.kxbkeE>a{display:flex;color:var(--icon-color);transition:color 0.3s ease;}/*!sc*/
.kxbkeE>a:hover{color:var(--primary-color);}/*!sc*/
@media (max-width:768px){.kxbkeE{font-size:20px;}}/*!sc*/
data-styled.g14[id="Header__Menu-sc-lsf90r-5"]{content:"kxbkeE,"}/*!sc*/
.etICMB{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}/*!sc*/
@media (max-width:768px){.etICMB{font-size:12px;}}/*!sc*/
data-styled.g15[id="Footer__Wrapper-sc-1y9s7zp-0"]{content:"etICMB,"}/*!sc*/
.eqFUoL{position:fixed;bottom:30px;right:30px;width:50px;height:50px;border-radius:50%;background:var(--primary-color,#007acc);color:white;border:none;cursor:pointer;font-size:20px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,0.15);transition:all 0.3s ease;z-index:1000;transform:translateY(100px);opacity:0;}/*!sc*/
.eqFUoL:hover{background:var(--primary-hover,#005a99);transform:translateY(100px);box-shadow:0 6px 20px rgba(0,0,0,0.2);}/*!sc*/
@media (max-width:768px){.eqFUoL{bottom:20px;right:20px;width:45px;height:45px;font-size:18px;}}/*!sc*/
data-styled.g20[id="ScrollToTop__ScrollButton-sc-1y5nzro-0"]{content:"eqFUoL,"}/*!sc*/
*{margin:0;padding:0;box-sizing:border-box;font-family:'Pretendard';}/*!sc*/
html,body,#___gatsby,#gatsby-focus-wrapper{min-height:100%;height:100%;}/*!sc*/
*:focus{outline:2px solid #0056b3;outline-offset:2px;}/*!sc*/
.skip-link{position:absolute;top:-40px;left:6px;z-index:1000;background:#000;color:white;padding:8px 16px;text-decoration:none;border-radius:4px;}/*!sc*/
.skip-link:focus{top:6px;}/*!sc*/
data-styled.g21[id="sc-global-grzAnJ1"]{content:"sc-global-grzAnJ1,"}/*!sc*/
.jztmza{display:flex;flex-direction:column;width:1000px;min-height:100%;margin:0 auto;}/*!sc*/
@media (max-width:1024px){.jztmza{width:100%;padding:0 40px;}}/*!sc*/
@media (max-width:768px){.jztmza{padding:0 20px;}}/*!sc*/
data-styled.g22[id="Layout__Wrapper-sc-xq79oq-0"]{content:"jztmza,"}/*!sc*/
.bKIpaK{margin:80px 0;}/*!sc*/
@media (max-width:1024px){.bKIpaK{margin:50px 0;}}/*!sc*/
data-styled.g23[id="Layout__Contents-sc-xq79oq-1"]{content:"bKIpaK,"}/*!sc*/
.fcUUuF{position:relative;overflow:hidden;display:flex;flex-direction:column;justify-content:flex-end;gap:20px;aspect-ratio:16/9;padding:50px;border-radius:20px;}/*!sc*/
@media (max-width:1024px){.fcUUuF{padding:30px;gap:15px;}}/*!sc*/
@media (max-width:768px){.fcUUuF{padding:20px;gap:10px;border-radius:10px;}}/*!sc*/
data-styled.g28[id="PostHead__Wrapper-sc-1li1xzw-0"]{content:"fcUUuF,"}/*!sc*/
.dkTzyF{display:-webkit-box;max-height:2.4em;overflow:hidden;font-size:30px;font-weight:700;color:#ffffff;text-overflow:ellipsis;word-wrap:break-word;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-height:1.2em;}/*!sc*/
@media (max-width:1024px){.dkTzyF{font-size:24px;}}/*!sc*/
@media (max-width:768px){.dkTzyF{font-size:18px;}}/*!sc*/
data-styled.g29[id="PostHead__Title-sc-1li1xzw-1"]{content:"dkTzyF,"}/*!sc*/
.brJRaK{display:flex;justify-content:space-between;padding-bottom:15px;border-bottom:1px solid #ffffff;font-size:15px;font-weight:300;color:#ffffff;}/*!sc*/
@media (max-width:1024px){.brJRaK{padding-bottom:10px;font-size:13px;}}/*!sc*/
@media (max-width:768px){.brJRaK{padding-bottom:8px;font-size:11px;}}/*!sc*/
data-styled.g30[id="PostHead__Information-sc-1li1xzw-2"]{content:"brJRaK,"}/*!sc*/
.kybGvB{display:flex;gap:7px;}/*!sc*/
data-styled.g31[id="PostHead__Category-sc-1li1xzw-3"]{content:"kybGvB,"}/*!sc*/
.iEzMWB{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;}/*!sc*/
.iEzMWB:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient( 180deg,rgba(0,0,0,0.05) 0%,rgba(0,0,0,0.9) 130% );}/*!sc*/
data-styled.g32[id="PostHead__Thumbnail-sc-1li1xzw-4"]{content:"iEzMWB,"}/*!sc*/
.hsmsfJ{margin:2rem 0;padding:1rem;border-radius:8px;background-color:#f8f9fa;}/*!sc*/
data-styled.g33[id="Comment__CommentContainer-sc-1lphgnj-0"]{content:"hsmsfJ,"}/*!sc*/
.iLHkax{text-align:center;padding:2rem;color:#6c757d;font-style:italic;}/*!sc*/
data-styled.g34[id="Comment__LoadingMessage-sc-1lphgnj-1"]{content:"iLHkax,"}/*!sc*/
.jxRhDR{font-size:25px;font-weight:700;margin-bottom:35px;}/*!sc*/
*+.jxRhDR{margin-top:90px;}/*!sc*/
hr+.jxRhDR{margin-top:0;}/*!sc*/
data-styled.g38[id="Heading__HEADING_2-sc-1cxmxaj-1"]{content:"jxRhDR,"}/*!sc*/
.bmizAe{font-size:20px;font-weight:700;margin-bottom:30px;}/*!sc*/
*+.bmizAe{margin-top:80px;}/*!sc*/
hr+.bmizAe{margin-top:0;}/*!sc*/
data-styled.g39[id="Heading__HEADING_3-sc-1cxmxaj-2"]{content:"bmizAe,"}/*!sc*/
.dRnnLD{width:100%;margin:30px 0;}/*!sc*/
.Image__Component-sc-4puosu-0+.Image__Component-sc-4puosu-0{margin:-20px 0 30px 0;}/*!sc*/
data-styled.g44[id="Image__Component-sc-4puosu-0"]{content:"dRnnLD,"}/*!sc*/
.koGEqp{position:sticky;top:100px;width:100%;}/*!sc*/
@media (max-width:768px){.koGEqp{display:none;}}/*!sc*/
data-styled.g52[id="TableOfContents__Wrapper-sc-1mfbhem-0"]{content:"koGEqp,"}/*!sc*/
.dvEVSs{padding-bottom:20px;border-bottom:1px solid var(--border-color,#000000);font-size:15px;font-weight:600;color:var(--text-color);}/*!sc*/
data-styled.g53[id="TableOfContents__Title-sc-1mfbhem-1"]{content:"dvEVSs,"}/*!sc*/
.eVAQDE{display:grid;grid-gap:10px;margin-top:20px;}/*!sc*/
data-styled.g54[id="TableOfContents__Items-sc-1mfbhem-2"]{content:"eVAQDE,"}/*!sc*/
.harUDN{padding-left:0px;font-size:13px;font-weight:300;color:var(--meta-color, rgba(30, 31, 33, 0.5));cursor:pointer;text-decoration:none;transition:all 0.2s ease;}/*!sc*/
.harUDN:hover{color:var(--primary-color);}/*!sc*/
.fZKUqA{padding-left:10px;font-size:13px;font-weight:300;color:var(--meta-color, rgba(30, 31, 33, 0.5));cursor:pointer;text-decoration:none;transition:all 0.2s ease;}/*!sc*/
.fZKUqA:hover{color:var(--primary-color);}/*!sc*/
data-styled.g55[id="TableOfContents__Item-sc-1mfbhem-3"]{content:"harUDN,fZKUqA,"}/*!sc*/
.hjUkST{position:relative;display:grid;grid-template-columns:1fr 220px;grid-gap:30px;justify-content:space-between;align-items:flex-start;padding-top:100px;}/*!sc*/
@media (max-width:768px){.hjUkST{grid-template-columns:1fr;padding-top:60px;}}/*!sc*/
data-styled.g56[id="PostBody__Wrapper-sc-1gzt3wy-0"]{content:"hjUkST,"}/*!sc*/
.jMESqU{overflow:auto;display:flex;flex-direction:column;gap:100px;font-size:16px;line-height:2;word-break:break-word;}/*!sc*/
@media (max-width:768px){.jMESqU{gap:50px;font-size:14px;line-height:1.8;}}/*!sc*/
data-styled.g57[id="PostBody__Content-sc-1gzt3wy-1"]{content:"jMESqU,"}/*!sc*/
.gBxxtO{display:flex;justify-content:space-between;align-items:stretch;margin:40px 0;gap:20px;}/*!sc*/
@media (max-width:768px){.gBxxtO{flex-direction:column;gap:16px;}}/*!sc*/
data-styled.g58[id="PostNavigation__Container-sc-14cbng1-0"]{content:"gBxxtO,"}/*!sc*/
.YnEH{flex:1;display:flex;flex-direction:column;padding:20px;background:var(--nav-bg,#f8f9fa);border:1px solid var(--border-color,#e9ecef);border-radius:8px;text-decoration:none;color:inherit;transition:all 0.3s ease;min-height:80px;justify-content:center;text-align:left;align-items:flex-start;}/*!sc*/
.YnEH:hover{background:var(--nav-hover-bg,#e9ecef);border-color:var(--primary-color,#007acc);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.1);}/*!sc*/
@media (max-width:768px){.YnEH{text-align:left;align-items:flex-start;}}/*!sc*/
.euarLP{flex:1;display:flex;flex-direction:column;padding:20px;background:var(--nav-bg,#f8f9fa);border:1px solid var(--border-color,#e9ecef);border-radius:8px;text-decoration:none;color:inherit;transition:all 0.3s ease;min-height:80px;justify-content:center;text-align:right;align-items:flex-end;}/*!sc*/
.euarLP:hover{background:var(--nav-hover-bg,#e9ecef);border-color:var(--primary-color,#007acc);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.1);}/*!sc*/
@media (max-width:768px){.euarLP{text-align:left;align-items:flex-start;}}/*!sc*/
data-styled.g59[id="PostNavigation__NavButton-sc-14cbng1-1"]{content:"YnEH,euarLP,"}/*!sc*/
.eJPIeQ{font-size:12px;color:var(--meta-color,#666);font-weight:500;margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px;}/*!sc*/
data-styled.g60[id="PostNavigation__NavLabel-sc-14cbng1-2"]{content:"eJPIeQ,"}/*!sc*/
.dzeKLF{font-size:16px;font-weight:600;color:var(--text-color,#333);line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}/*!sc*/
data-styled.g61[id="PostNavigation__NavTitle-sc-14cbng1-3"]{content:"dzeKLF,"}/*!sc*/
.eswOzR{margin:60px 0;padding:30px;background:var(--related-posts-bg,#f8f9fa);border-radius:12px;border:1px solid var(--border-color,#e9ecef);}/*!sc*/
data-styled.g63[id="RelatedPosts__Container-sc-lcgb2a-0"]{content:"eswOzR,"}/*!sc*/
.eodvuf{font-size:20px;font-weight:700;margin-bottom:20px;color:var(--text-color,#333);text-align:center;}/*!sc*/
data-styled.g64[id="RelatedPosts__Title-sc-lcgb2a-1"]{content:"eodvuf,"}/*!sc*/
.bYrmvU{display:flex;flex-direction:column;gap:20px;}/*!sc*/
@media (max-width:768px){.bYrmvU{gap:16px;}}/*!sc*/
data-styled.g65[id="RelatedPosts__PostsGrid-sc-lcgb2a-2"]{content:"bYrmvU,"}/*!sc*/
.dUTYmq{display:flex;background:var(--card-bg,white);border-radius:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.1);transition:all 0.3s ease;text-decoration:none;color:inherit;align-items:center;min-height:120px;}/*!sc*/
.dUTYmq:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,0.15);}/*!sc*/
@media (max-width:768px){.dUTYmq{flex-direction:column;align-items:stretch;}}/*!sc*/
data-styled.g66[id="RelatedPosts__PostCard-sc-lcgb2a-3"]{content:"dUTYmq,"}/*!sc*/
.dtxVgY{position:relative;width:180px;height:120px;flex-shrink:0;overflow:hidden;}/*!sc*/
@media (max-width:768px){.dtxVgY{width:100%;height:150px;}}/*!sc*/
data-styled.g67[id="RelatedPosts__ThumbnailContainer-sc-lcgb2a-4"]{content:"dtxVgY,"}/*!sc*/
.cDpkDg{width:100%;height:100%;object-fit:cover;}/*!sc*/
data-styled.g68[id="RelatedPosts__Thumbnail-sc-lcgb2a-5"]{content:"cDpkDg,"}/*!sc*/
.tVNKu{padding:20px;flex:1;display:flex;flex-direction:column;justify-content:center;gap:8px;}/*!sc*/
@media (max-width:768px){.tVNKu{padding:16px;}}/*!sc*/
data-styled.g69[id="RelatedPosts__PostContent-sc-lcgb2a-6"]{content:"tVNKu,"}/*!sc*/
.QteXc{font-size:18px;font-weight:600;margin:0;line-height:1.4;color:var(--text-color,#333);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}/*!sc*/
@media (max-width:768px){.QteXc{font-size:16px;}}/*!sc*/
data-styled.g70[id="RelatedPosts__PostTitle-sc-lcgb2a-7"]{content:"QteXc,"}/*!sc*/
.lokAPW{display:flex;justify-content:space-between;align-items:center;font-size:13px;color:var(--meta-color,#666);margin-bottom:4px;}/*!sc*/
@media (max-width:768px){.lokAPW{flex-direction:column;align-items:flex-start;gap:4px;}}/*!sc*/
data-styled.g71[id="RelatedPosts__PostMeta-sc-lcgb2a-8"]{content:"lokAPW,"}/*!sc*/
.jgXTti{display:flex;gap:6px;flex-wrap:wrap;}/*!sc*/
data-styled.g72[id="RelatedPosts__Categories-sc-lcgb2a-9"]{content:"jgXTti,"}/*!sc*/
.gpIJJD{background:var(--tag-bg,#e9ecef);color:var(--tag-color,#495057);padding:4px 8px;border-radius:12px;font-size:11px;font-weight:500;}/*!sc*/
data-styled.g73[id="RelatedPosts__CategoryTag-sc-lcgb2a-10"]{content:"gpIJJD,"}/*!sc*/
.icYiKK{font-size:12px;color:var(--meta-color,#666);}/*!sc*/
data-styled.g74[id="RelatedPosts__PostDate-sc-lcgb2a-11"]{content:"icYiKK,"}/*!sc*/
.coimxW{font-size:14px;line-height:1.5;color:var(--description-color,#666);margin:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}/*!sc*/
data-styled.g75[id="RelatedPosts__PostDescription-sc-lcgb2a-12"]{content:"coimxW,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><link rel="canonical" href="https://jiminchur.github.io/isr-replication/" data-baseprotocol="https:" data-basehost="jiminchur.github.io"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QS6RFTZQMQ"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-QS6RFTZQMQ'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = true;

    var options = {
      send_page_view: false
    };
    if (true) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-QS6RFTZQMQ', options);
  </script><link rel="stylesheet" as="style" crossorigin="anonymous" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css"/><title data-gatsby-head="true">ISR과 Replication에 대해서</title><link rel="canonical" href="https://jiminchur.github.io/isr-replication" data-gatsby-head="true"/><script type="application/ld+json" data-gatsby-head="true">{"@context":"https://schema.org","@type":"WebSite","name":"Minchur Gatsby Blog","description":"Kafka의 고가용성과 내결함성을 보장하는 핵심 매커니즘인 ISR(In-Sync Replicas)과 Replication(복제)에 대해 설명합니다. Replication이란 무엇이며, ISR이 어떤 역할을 하며 왜 중요한지, Kafka 클러스터 운영 시 발생할 수 있는 Replica 불일치 상황, Leader 선출, 데이터 유실 방지 전략까지 함께 다룹니다.","url":"https://jiminchur.github.io/isr-replication","author":{"@type":"Person","name":"MinChur"},"image":"https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png"}</script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout__Wrapper-sc-xq79oq-0 jztmza"><a href="#main-content" class="skip-link">메인 콘텐츠로 건너뛰기</a><div class="Header__Wrapper-sc-lsf90r-0 hLqbYu"><div class="Header__LeftSection-sc-lsf90r-1 bOylUk"><a class="Header__Title-sc-lsf90r-3 iDRzOI" href="/">DataEngineer Minchur</a><div class="Header__SearchContainer-sc-lsf90r-4 hIvsUi"><div class="SearchBox__SearchContainer-sc-138re12-0 gmcxKj"><input type="text" placeholder="검색어를 입력하세요..." class="SearchBox__SearchInput-sc-138re12-1 cOzVSl" value=""/><div class="SearchBox__SearchIcon-sc-138re12-2 iBwHlu">🔍</div></div></div></div><div class="Header__RightSection-sc-lsf90r-2 hFrQCC"><button class="DarkModeToggle__ToggleButton-sc-3tujz8-0 gmoVlL">🌙</button><div class="Header__Menu-sc-lsf90r-5 kxbkeE"><a href="https://github.com/jiminchur" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></a><a href="https://www.instagram.com/your_instagram_username" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 0 0-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"></path></svg></a><a href="https://www.linkedin.com/in/%EB%AF%BC%EC%B2%A0-%EC%A7%80-30a8912b1/" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1 1 68.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7 120.2 0 142.3 79.1 142.3 181.9v209.4z"></path></svg></a></div></div></div><main id="main-content" role="main" class="Layout__Contents-sc-xq79oq-1 bKIpaK"><div class="PostHead__Wrapper-sc-1li1xzw-0 fcUUuF"><div class="PostHead__Title-sc-1li1xzw-1 dkTzyF">ISR과 Replication에 대해서</div><div class="PostHead__Information-sc-1li1xzw-2 brJRaK"><div class="PostHead__Category-sc-1li1xzw-3 kybGvB"><div>#<!-- -->Kafka</div></div><div>2025-04-15</div></div><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained PostHead__Thumbnail-sc-1li1xzw-4 iEzMWB"><div style="max-width:1000px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;1000&#x27;%20width=&#x27;1000&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=webp 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=webp 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=webp 225w" sizes="(min-width: 225px) 225px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 225px) 225px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=png 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=png 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png 225w" alt="ISR과 Replication에 대해서"/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=webp 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=webp 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=webp 225w" sizes="(min-width: 225px) 225px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 225px) 225px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=png 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=png 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png 225w" alt="ISR과 Replication에 대해서"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="PostBody__Wrapper-sc-1gzt3wy-0 hjUkST"><div class="PostBody__Content-sc-1gzt3wy-1 jMESqU"><div id="content"><h2 id="Kafka의-핵심-아키텍처-이해하기:-토픽부터-ISR까지_" class="Heading__HEADING_2-sc-1cxmxaj-1 jxRhDR"><b>Kafka의 핵심 아키텍처 이해하기: 토픽부터 ISR까지</b></h2><p>Apache Kafka는 대용량의 실시간 데이터 스트리밍을 처리하기 위한 분산 메시징 시스템입니다.  브로커중 하나가 도중에 다운 되어 버리면 어떻게 할까요?? 중간에 쌓였던 메시지들하고 새롭게 유입되는 메세지들의 손실이 있을 것입니다. 이로인해 서비스 운영에 차질이 생길 수도 있습니다. 이를 방지하기위한 기술인 Replication과 ISR에 대해서 다뤄볼까합니다.</p><h3 id="1.-Topic,-Partition,-Segment:-Kafka의-데이터-구조_" class="Heading__HEADING_3-sc-1cxmxaj-2 bmizAe"><b>1. Topic, Partition, Segment: Kafka의 데이터 구조</b></h3><p>우선 Replication과 ISR에 대해서 설명하기 전에 Topic과 Partition, Segment에 대해서 이해를 하고 있어야 합니다. 우선 논리 적인 측면에서 바라본다면 다음과 같습니다.</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;337&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=190&amp;h=83&amp;q=50&amp;fm=webp 190w,https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=380&amp;h=165&amp;q=50&amp;fm=webp 380w,https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=759&amp;h=330&amp;q=50&amp;fm=webp 759w" sizes="(min-width: 759px) 759px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 759px) 759px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=759&amp;h=330&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=190&amp;h=83&amp;q=50&amp;fm=png 190w,https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=380&amp;h=165&amp;q=50&amp;fm=png 380w,https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=759&amp;h=330&amp;q=50&amp;fm=png 759w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=190&amp;h=83&amp;q=50&amp;fm=webp 190w,https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=380&amp;h=165&amp;q=50&amp;fm=webp 380w,https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=759&amp;h=330&amp;q=50&amp;fm=webp 759w" sizes="(min-width: 759px) 759px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 759px) 759px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=759&amp;h=330&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=190&amp;h=83&amp;q=50&amp;fm=png 190w,https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=380&amp;h=165&amp;q=50&amp;fm=png 380w,https://images.ctfassets.net/jlqgu0ptb6o6/6o8eaBFp9fNwS9H7QO1TLx/94c6234de1e07670970c8f8ff75d4d98/kafka1.png?w=759&amp;h=330&amp;q=50&amp;fm=png 759w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>우선 Topic은 메시지를 분류하는 논리적인 단위입니다. Topic은 여러개의 Partition으로 나뉘며, 각 Partition은 메시지의 순서를 보장하고 병렬 처리를 가능하게 합니니다. 각 Partition은 Segment라는 파일 단위로 물리적으로 저장이 되며, Segment는 디스크에 저장되는 실제 파일로, 메시지의 저장 및 삭제를 효율적으로 관리합니다. Segment파일은 특정기간이 지나거나 파일의 크기가 특정값을 넘어가게되면 새롭게 생성되어 저장이됩니다.</p><p>물리적 관점으로 보면 다음과 같습니다.</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;411&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=185&amp;h=98&amp;q=50&amp;fm=webp 185w,https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=370&amp;h=196&amp;q=50&amp;fm=webp 370w,https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=740&amp;h=393&amp;q=50&amp;fm=webp 740w" sizes="(min-width: 740px) 740px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 740px) 740px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=740&amp;h=393&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=185&amp;h=98&amp;q=50&amp;fm=png 185w,https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=370&amp;h=196&amp;q=50&amp;fm=png 370w,https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=740&amp;h=393&amp;q=50&amp;fm=png 740w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=185&amp;h=98&amp;q=50&amp;fm=webp 185w,https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=370&amp;h=196&amp;q=50&amp;fm=webp 370w,https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=740&amp;h=393&amp;q=50&amp;fm=webp 740w" sizes="(min-width: 740px) 740px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 740px) 740px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=740&amp;h=393&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=185&amp;h=98&amp;q=50&amp;fm=png 185w,https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=370&amp;h=196&amp;q=50&amp;fm=png 370w,https://images.ctfassets.net/jlqgu0ptb6o6/4jgBK4dIp0WThFIhspihlB/5ca8988a67530e415dc77bb44c9f56bf/kafka2.png?w=740&amp;h=393&amp;q=50&amp;fm=png 740w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>Topic별 Partition들은 여러 Broker들에 분산되어 위치해 있고 Partition별로 독립적으로 유지가 되며 Partition들 안에 Segment file들은 위에 그림과 같이 저장이 됩니다.</p><h3 id="2.-Commit-Log와-Consumer-Lag:-메시지-처리-상태-추적_" class="Heading__HEADING_3-sc-1cxmxaj-2 bmizAe"><b>2. Commit Log와 Consumer Lag: 메시지 처리 상태 추적</b></h3><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;404&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=176&amp;h=92&amp;q=50&amp;fm=webp 176w,https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=351&amp;h=183&amp;q=50&amp;fm=webp 351w,https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=702&amp;h=366&amp;q=50&amp;fm=webp 702w" sizes="(min-width: 702px) 702px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 702px) 702px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=702&amp;h=366&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=176&amp;h=92&amp;q=50&amp;fm=png 176w,https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=351&amp;h=183&amp;q=50&amp;fm=png 351w,https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=702&amp;h=366&amp;q=50&amp;fm=png 702w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=176&amp;h=92&amp;q=50&amp;fm=webp 176w,https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=351&amp;h=183&amp;q=50&amp;fm=webp 351w,https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=702&amp;h=366&amp;q=50&amp;fm=webp 702w" sizes="(min-width: 702px) 702px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 702px) 702px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=702&amp;h=366&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=176&amp;h=92&amp;q=50&amp;fm=png 176w,https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=351&amp;h=183&amp;q=50&amp;fm=png 351w,https://images.ctfassets.net/jlqgu0ptb6o6/6lZA8Vig63RI1VnP3HCPwk/ee0c419b87be2d3220a9fb3bd3ae37f8/kafka3.png?w=702&amp;h=366&amp;q=50&amp;fm=png 702w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>Kafka는 메시지를 로그 형태로 저장하며, Consumer는 오프셋을 기반으로 메시지를 읽습니다. Current Offset는 Consumer가 마지막으로 커밋한 메시지의 위치이고, Log End Offset는 Broker에 저장된 가장 최신 메시지의 위치입니다. Consumer Lag는 Log End Offset과 Current Offset의 차이로, Consumer가 얼마나 뒤처져 있는지를 나타냅니다. Consumer Lag은 시스템의 처리 지연을 모니터링하는 데 중요한 지표입니다.</p><h3 id="3.-Broker-장애가난다면??_" class="Heading__HEADING_3-sc-1cxmxaj-2 bmizAe"><b>3. Broker 장애가난다면??</b></h3><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;381&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=194&amp;h=95&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=387&amp;h=191&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=774&amp;h=381&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=774&amp;h=381&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=194&amp;h=95&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=387&amp;h=191&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=774&amp;h=381&amp;q=50&amp;fm=png 774w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=194&amp;h=95&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=387&amp;h=191&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=774&amp;h=381&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=774&amp;h=381&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=194&amp;h=95&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=387&amp;h=191&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6NaimlPkzxyUALox1gVXB3/2b8fab49bc093c58b1561fcb9556aaab/kafka4.png?w=774&amp;h=381&amp;q=50&amp;fm=png 774w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>만약 위에 그림처럼 Broker-103이 다운이 되어버린다면 어떻게 될까요?? 그 전에 쌓여있던 메시지와 새롭게 들어오는 메시지에 대한 손실이 생길 것입니다.</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;388&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=192&amp;h=96&amp;q=50&amp;fm=webp 192w,https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=384&amp;h=192&amp;q=50&amp;fm=webp 384w,https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=767&amp;h=384&amp;q=50&amp;fm=webp 767w" sizes="(min-width: 767px) 767px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 767px) 767px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=767&amp;h=384&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=192&amp;h=96&amp;q=50&amp;fm=png 192w,https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=384&amp;h=192&amp;q=50&amp;fm=png 384w,https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=767&amp;h=384&amp;q=50&amp;fm=png 767w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=192&amp;h=96&amp;q=50&amp;fm=webp 192w,https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=384&amp;h=192&amp;q=50&amp;fm=webp 384w,https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=767&amp;h=384&amp;q=50&amp;fm=webp 767w" sizes="(min-width: 767px) 767px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 767px) 767px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=767&amp;h=384&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=192&amp;h=96&amp;q=50&amp;fm=png 192w,https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=384&amp;h=192&amp;q=50&amp;fm=png 384w,https://images.ctfassets.net/jlqgu0ptb6o6/5i5lDl5l3t4B0uQ03x5xgo/b3b75cf4c48bca5241577504d9baa525/kafka5.png?w=767&amp;h=384&amp;q=50&amp;fm=png 767w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>그렇다면 위에 그림과 같이 기존 Broker-103에 있던 Partition들을 Broker-102과 Broker-104에 새롭게 생성하면 되지 않을까 싶습니다. 이렇게 해버려도 처음에 말했던 것처럼 그 전에 쌓여있던 메시지와 새롭게 생성되기 전까지 들어오는 메시지에 대한 손실이 생길것입니다. 그렇다면 어떻게 해결을 해야할까요??</p><h3 id="4.-Replication과-리더-재선출:-고가용성-보장_" class="Heading__HEADING_3-sc-1cxmxaj-2 bmizAe"><b>4. Replication과 리더 재선출: 고가용성 보장</b></h3><p>위에 문제를 해결할 수 있는 방법이 Replication을 설정하면 됩니다. Leader Partition과 Follower Partition들이 있습니다.  Leader Partition에서 Producer가 메시지를 write를 하게 되면 각각의 Follower들은 해당 메시지를 Leader쪽에서 가져오게 됩니다.</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;416&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=166&amp;h=89&amp;q=50&amp;fm=webp 166w,https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=331&amp;h=178&amp;q=50&amp;fm=webp 331w,https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=662&amp;h=356&amp;q=50&amp;fm=webp 662w" sizes="(min-width: 662px) 662px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 662px) 662px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=662&amp;h=356&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=166&amp;h=89&amp;q=50&amp;fm=png 166w,https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=331&amp;h=178&amp;q=50&amp;fm=png 331w,https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=662&amp;h=356&amp;q=50&amp;fm=png 662w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=166&amp;h=89&amp;q=50&amp;fm=webp 166w,https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=331&amp;h=178&amp;q=50&amp;fm=webp 331w,https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=662&amp;h=356&amp;q=50&amp;fm=webp 662w" sizes="(min-width: 662px) 662px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 662px) 662px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=662&amp;h=356&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=166&amp;h=89&amp;q=50&amp;fm=png 166w,https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=331&amp;h=178&amp;q=50&amp;fm=png 331w,https://images.ctfassets.net/jlqgu0ptb6o6/2NGfLZXTegsZjSG1XvMUFV/087fb29020755399698fac0a1bec7e42/kafka6.png?w=662&amp;h=356&amp;q=50&amp;fm=png 662w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>그러면 3번에서 문제로 삼았던 Broker가 다운되었을때 어떨까요??</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;406&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=166&amp;h=87&amp;q=50&amp;fm=webp 166w,https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=331&amp;h=174&amp;q=50&amp;fm=webp 331w,https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=662&amp;h=347&amp;q=50&amp;fm=webp 662w" sizes="(min-width: 662px) 662px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 662px) 662px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=662&amp;h=347&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=166&amp;h=87&amp;q=50&amp;fm=png 166w,https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=331&amp;h=174&amp;q=50&amp;fm=png 331w,https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=662&amp;h=347&amp;q=50&amp;fm=png 662w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=166&amp;h=87&amp;q=50&amp;fm=webp 166w,https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=331&amp;h=174&amp;q=50&amp;fm=webp 331w,https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=662&amp;h=347&amp;q=50&amp;fm=webp 662w" sizes="(min-width: 662px) 662px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 662px) 662px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=662&amp;h=347&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=166&amp;h=87&amp;q=50&amp;fm=png 166w,https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=331&amp;h=174&amp;q=50&amp;fm=png 331w,https://images.ctfassets.net/jlqgu0ptb6o6/2qKURP2KVBYfJZt510H3wH/c56314088a37126fc7dcd568756ef48d/kafka7.png?w=662&amp;h=347&amp;q=50&amp;fm=png 662w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>일을 수행하고 있던 Leader쪽의 Broker가 다운이 되면 위에 그림과 같이 Follower들중 하나를 Leader로 선출하게 되고 Producer와 Consumer는 새로운 Leader쪽으로 붙게됩니다. 그러면 Follower들이 어떻게 Leader에서 읽어오고, 리더 재선출을 할때 어떤 기준으로 Follower들중 한개를 선출하는지는 글 마지막 부분에서 다루겠습니다.</p><h3 id="5.-리더의-불균형-분산-방지:-Hotspot-문제-해결_" class="Heading__HEADING_3-sc-1cxmxaj-2 bmizAe"><b>5. 리더의 불균형 분산 방지: Hotspot 문제 해결</b></h3><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;322&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=194&amp;h=81&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=387&amp;h=161&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=774&amp;h=322&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=774&amp;h=322&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=194&amp;h=81&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=387&amp;h=161&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=774&amp;h=322&amp;q=50&amp;fm=png 774w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=194&amp;h=81&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=387&amp;h=161&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=774&amp;h=322&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=774&amp;h=322&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=194&amp;h=81&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=387&amp;h=161&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6a9bX14VmNtApUfWy6HeG5/ed118693184eb86db2b7a34d85c0a6d3/kafka8.png?w=774&amp;h=322&amp;q=50&amp;fm=png 774w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>모든 파티션의 리더가 특정 브로커에 집중되면 해당 브로커에 부하가 집중되어 성능 저하가 발생할 수 있습니다. 이를 방지하기 위해 Kafka는 auto.leader.rebalance.enable 설정을 제공합니다. 이 설정이 활성화되면, Kafka는 주기적으로 파티션 리더의 분포를 확인하고, 불균형이 감지되면 리더를 재분배하여 부하를 균등하게 분산시킵니다. 이러한 자동 리더 리밸런싱은 클러스터의 안정성과 성능을 유지하는 데 중요한 역할을 합니다.</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;326&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=194&amp;h=82&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=387&amp;h=163&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=774&amp;h=326&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=774&amp;h=326&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=194&amp;h=82&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=387&amp;h=163&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=774&amp;h=326&amp;q=50&amp;fm=png 774w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=194&amp;h=82&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=387&amp;h=163&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=774&amp;h=326&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=774&amp;h=326&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=194&amp;h=82&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=387&amp;h=163&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/1h3Bwpi3a7XQc72HudbJDH/d10b9c4796a86719a2589a3e7533fec0/kafka9.png?w=774&amp;h=326&amp;q=50&amp;fm=png 774w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><h3 id="6.-Leader-/-Follower-작동-방식:-Fetcher-Thread_" class="Heading__HEADING_3-sc-1cxmxaj-2 bmizAe"><b>6. Leader / Follower 작동 방식: Fetcher Thread</b></h3><p>이제 Leader와 Follower의 작동 방식에 대해서 살펴보자! 우선 Leader쪽으로 Producerrk write을 수행하고 하게된다.</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;319&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=194&amp;h=80&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=387&amp;h=160&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=774&amp;h=319&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=774&amp;h=319&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=194&amp;h=80&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=387&amp;h=160&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=774&amp;h=319&amp;q=50&amp;fm=png 774w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=194&amp;h=80&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=387&amp;h=160&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=774&amp;h=319&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=774&amp;h=319&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=194&amp;h=80&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=387&amp;h=160&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/gW4x3NRrrhf5fkFJ0Y7tu/c383ee2e106c7570d057a02b09c64d59/kafka10.png?w=774&amp;h=319&amp;q=50&amp;fm=png 774w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>우선 Leader쪽으로 Producerrk write을 수행하고 하게된다.</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;236&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=194&amp;h=59&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=387&amp;h=118&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=774&amp;h=236&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=774&amp;h=236&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=194&amp;h=59&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=387&amp;h=118&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=774&amp;h=236&amp;q=50&amp;fm=png 774w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=194&amp;h=59&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=387&amp;h=118&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=774&amp;h=236&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=774&amp;h=236&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=194&amp;h=59&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=387&amp;h=118&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/1ZrTsOiZZeR0yNI2qQYDBn/ba12a9780cc37291602cd3bafef19922/kafka11.png?w=774&amp;h=236&amp;q=50&amp;fm=png 774w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>각각 Follower들이 있는 Broker에서 Fetcher Thread가 동작을 하게 되어 Leader로 부터 새로운 메시지를 Fetch해 오고 자신의 Commit Log에 기록을 하게 된다.</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;239&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=194&amp;h=60&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=387&amp;h=120&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=774&amp;h=239&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=774&amp;h=239&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=194&amp;h=60&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=387&amp;h=120&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=774&amp;h=239&amp;q=50&amp;fm=png 774w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=194&amp;h=60&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=387&amp;h=120&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=774&amp;h=239&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=774&amp;h=239&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=194&amp;h=60&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=387&amp;h=120&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/6vg7RzvB8gORenoNwMilyx/25b8161c8b37a2e75f05e59fc7484737/kafka12.png?w=774&amp;h=239&amp;q=50&amp;fm=png 774w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>Leader에서는 High Water Mark를 이동하게 되고 두번째로 Fetcher Thread가 동작을 할때는 Null를 전달해준다.(새로운 메시지가 없다면!)</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;253&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=194&amp;h=63&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=387&amp;h=127&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=774&amp;h=253&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=774&amp;h=253&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=194&amp;h=63&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=387&amp;h=127&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=774&amp;h=253&amp;q=50&amp;fm=png 774w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=194&amp;h=63&amp;q=50&amp;fm=webp 194w,https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=387&amp;h=127&amp;q=50&amp;fm=webp 387w,https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=774&amp;h=253&amp;q=50&amp;fm=webp 774w" sizes="(min-width: 774px) 774px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 774px) 774px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=774&amp;h=253&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=194&amp;h=63&amp;q=50&amp;fm=png 194w,https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=387&amp;h=127&amp;q=50&amp;fm=png 387w,https://images.ctfassets.net/jlqgu0ptb6o6/vBVgW5kArgSlF7s2cekDc/0890d5b62a0b1b61919d9d91eac322dc/kafka13.png?w=774&amp;h=253&amp;q=50&amp;fm=png 774w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>세번째로 Fetcher Thread가 동작을 하게될때 각각 Follower들의 High Water Mark도 이동하게 됩니다.</p><p>마지막으로 한꺼번에 정리하자면,  Kafka에서 Leader와 Follower 간의 데이터 동기화는 Fetcher Thread를 통해 이루어집니다. Leader는 프로듀서로부터 메시지를 수신하고, 각 Follower는 Fetcher Thread를 통해 Leader로부터 새로운 메시지를 가져와 자신의 커밋 로그에 기록합니다. 이 과정에서 Leader는 High Water Mark(HWM)를 관리하여, 모든 ISR 구성원이 해당 메시지를 복제한 시점을 기준으로 커밋된 메시지를 결정합니다. Follower는 Fetcher Thread를 통해 주기적으로 Leader로부터 데이터를 가져오며, 새로운 메시지가 없을 경우에는 Null을 전달받습니다. 또한, Leader 브로커 내에도 다른 파티션의 Follower 역할을 수행할 수 있으므로, 해당 브로커에도 Fetcher Thread가 존재합니다.</p><h3 id="7.-ISR-(In-Sync-Replica):-동기화된-복제본-관리_" class="Heading__HEADING_3-sc-1cxmxaj-2 bmizAe"><b>7. ISR (In-Sync Replica): 동기화된 복제본 관리</b></h3><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Image__Component-sc-4puosu-0 dRnnLD"><div style="max-width:774px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;375&#x27;%20width=&#x27;774&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=179&amp;h=87&amp;q=50&amp;fm=webp 179w,https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=358&amp;h=173&amp;q=50&amp;fm=webp 358w,https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=715&amp;h=346&amp;q=50&amp;fm=webp 715w" sizes="(min-width: 715px) 715px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 715px) 715px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=715&amp;h=346&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=179&amp;h=87&amp;q=50&amp;fm=png 179w,https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=358&amp;h=173&amp;q=50&amp;fm=png 358w,https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=715&amp;h=346&amp;q=50&amp;fm=png 715w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=179&amp;h=87&amp;q=50&amp;fm=webp 179w,https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=358&amp;h=173&amp;q=50&amp;fm=webp 358w,https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=715&amp;h=346&amp;q=50&amp;fm=webp 715w" sizes="(min-width: 715px) 715px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 715px) 715px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=715&amp;h=346&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=179&amp;h=87&amp;q=50&amp;fm=png 179w,https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=358&amp;h=173&amp;q=50&amp;fm=png 358w,https://images.ctfassets.net/jlqgu0ptb6o6/6zC5fCFn2AKyDJUKRO9ToL/aa8e440e57ecb6ec1a4c8fbee8fd130f/kafka14.png?w=715&amp;h=346&amp;q=50&amp;fm=png 715w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>ISR(In-Sync Replica) 목록은 리더와 동기화된 팔로워들의 집합으로, 리더는 이 목록을 기반으로 데이터의 복제 상태를  관리합니다. ISR에 포함되기 위해서는 팔로워가 리더로부터 데이터를 정상적으로 복제하고, High Water Mark(HWM)를 따라잡아야 합니다. 만약 ISR 목록에 있는 리더 브로커가 다운되면, ISR 내의 다른 팔로워 중 하나가 새로운 리더로 선출됩니다.</p><p>추가로, Kafka는 KIP-966을 통해 ELR(Eligible Leader Replicas) 개념을 도입하여, ISR이 최소 요구 수(min.insync.replicas)보다 작아지는 상황에서도 데이터 손실 없이 리더 선출이 가능하도록 개선하였습니다. ELR은 ISR에서 제외되었지만, 여전히 커밋된 데이터를 보유하고 있는 복제본들을 포함하며, 이러한 복제본은 리더 후보로 고려됩니다. 이를 통해, “마지막 복제본이 다운되는” 상황에서도 데이터의 무결성을 유지할 수 있습니다.</p><h3 id="마무리_" class="Heading__HEADING_3-sc-1cxmxaj-2 bmizAe"><b>마무리</b></h3><p>Kafka의 아키텍처는 고가용성과 데이터 무결성을 보장하기 위해 정교하게 설계되어 있습니다. Topic, Partition, Segment의 구조부터 Replication, ISR, 리더 선출 메커니즘까지, 각 요소들이 유기적으로 작동하여 안정적인 데이터 스트리밍을 가능하게 합니다. 이러한 구조와 메커니즘을 이해하면, Kafka를 더욱 효과적으로 활용하고, 발생할 수 있는 문제에 대한 대응 능력을 향상시킬 수 있습니다.</p></div><div class="Comment__CommentContainer-sc-1lphgnj-0 hsmsfJ"><h3>댓글</h3><div class="Comment__LoadingMessage-sc-1lphgnj-1 iLHkax">댓글을 불러오는 중...</div><div></div></div></div><div class="TableOfContents__Wrapper-sc-1mfbhem-0 koGEqp"><div class="TableOfContents__Title-sc-1mfbhem-1 dvEVSs">Table of Contents</div><div class="TableOfContents__Items-sc-1mfbhem-2 eVAQDE"><a class="TableOfContents__Item-sc-1mfbhem-3 harUDN" href="/isr-replication/#Kafka의-핵심-아키텍처-이해하기:-토픽부터-ISR까지_">Kafka의 핵심 아키텍처 이해하기: 토픽부터 ISR까지</a><a class="TableOfContents__Item-sc-1mfbhem-3 fZKUqA" href="/isr-replication/#1.-Topic,-Partition,-Segment:-Kafka의-데이터-구조_">1. Topic, Partition, Segment: Kafka의 데이터 구조</a><a class="TableOfContents__Item-sc-1mfbhem-3 fZKUqA" href="/isr-replication/#2.-Commit-Log와-Consumer-Lag:-메시지-처리-상태-추적_">2. Commit Log와 Consumer Lag: 메시지 처리 상태 추적</a><a class="TableOfContents__Item-sc-1mfbhem-3 fZKUqA" href="/isr-replication/#3.-Broker-장애가난다면">3. Broker 장애가난다면??</a><a class="TableOfContents__Item-sc-1mfbhem-3 fZKUqA" href="/isr-replication/#4.-Replication과-리더-재선출:-고가용성-보장_">4. Replication과 리더 재선출: 고가용성 보장</a><a class="TableOfContents__Item-sc-1mfbhem-3 fZKUqA" href="/isr-replication/#5.-리더의-불균형-분산-방지:-Hotspot-문제-해결_">5. 리더의 불균형 분산 방지: Hotspot 문제 해결</a><a class="TableOfContents__Item-sc-1mfbhem-3 fZKUqA" href="/isr-replication/#6.-Leader-/-Follower-작동-방식:-Fetcher-Thread_">6. Leader / Follower 작동 방식: Fetcher Thread</a><a class="TableOfContents__Item-sc-1mfbhem-3 fZKUqA" href="/isr-replication/#7.-ISR-(In-Sync-Replica):-동기화된-복제본-관리_">7. ISR (In-Sync Replica): 동기화된 복제본 관리</a><a class="TableOfContents__Item-sc-1mfbhem-3 fZKUqA" href="/isr-replication/#마무리_">마무리</a></div></div></div><nav class="PostNavigation__Container-sc-14cbng1-0 gBxxtO"><a direction="prev" class="PostNavigation__NavButton-sc-14cbng1-1 YnEH" href="/spark-python-scala-api/"><div class="PostNavigation__NavLabel-sc-14cbng1-2 eJPIeQ">← 이전 포스트</div><div class="PostNavigation__NavTitle-sc-14cbng1-3 dzeKLF">Spark환경에서 Python과 Scala API 성능 비교</div></a><a direction="next" class="PostNavigation__NavButton-sc-14cbng1-1 euarLP" href="/dw/"><div class="PostNavigation__NavLabel-sc-14cbng1-2 eJPIeQ">다음 포스트 →</div><div class="PostNavigation__NavTitle-sc-14cbng1-3 dzeKLF">빅데이터 및 분석을 위한 데이터 웨어하우스 설계 방법론 비교</div></a></nav><div class="RelatedPosts__Container-sc-lcgb2a-0 eswOzR"><h3 class="RelatedPosts__Title-sc-lcgb2a-1 eodvuf">관련 포스트</h3><div class="RelatedPosts__PostsGrid-sc-lcgb2a-2 bYrmvU"><a class="RelatedPosts__PostCard-sc-lcgb2a-3 dUTYmq" href="/elk/"><div class="RelatedPosts__ThumbnailContainer-sc-lcgb2a-4 dtxVgY"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained RelatedPosts__Thumbnail-sc-lcgb2a-5 cDpkDg"><div style="max-width:400px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;229&#x27;%20width=&#x27;400&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=74&amp;h=42&amp;q=50&amp;fm=webp 74w,https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=149&amp;h=85&amp;q=50&amp;fm=webp 149w,https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=297&amp;h=170&amp;q=50&amp;fm=webp 297w" sizes="(min-width: 297px) 297px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 297px) 297px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=297&amp;h=170&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=74&amp;h=42&amp;q=50&amp;fm=png 74w,https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=149&amp;h=85&amp;q=50&amp;fm=png 149w,https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=297&amp;h=170&amp;q=50&amp;fm=png 297w" alt="ELK란??"/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=74&amp;h=42&amp;q=50&amp;fm=webp 74w,https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=149&amp;h=85&amp;q=50&amp;fm=webp 149w,https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=297&amp;h=170&amp;q=50&amp;fm=webp 297w" sizes="(min-width: 297px) 297px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 297px) 297px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=297&amp;h=170&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=74&amp;h=42&amp;q=50&amp;fm=png 74w,https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=149&amp;h=85&amp;q=50&amp;fm=png 149w,https://images.ctfassets.net/jlqgu0ptb6o6/TNgJPc0dIhJhOZiz6Mu9k/26ab613c02b698f299b55502d789d769/elk_img.png?w=297&amp;h=170&amp;q=50&amp;fm=png 297w" alt="ELK란??"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="RelatedPosts__PostContent-sc-lcgb2a-6 tVNKu"><h4 class="RelatedPosts__PostTitle-sc-lcgb2a-7 QteXc">ELK란??</h4><div class="RelatedPosts__PostMeta-sc-lcgb2a-8 lokAPW"><div class="RelatedPosts__Categories-sc-lcgb2a-9 jgXTti"><span class="RelatedPosts__CategoryTag-sc-lcgb2a-10 gpIJJD">#<!-- -->Kafka</span></div><span class="RelatedPosts__PostDate-sc-lcgb2a-11 icYiKK">2024-12-04</span></div><p class="RelatedPosts__PostDescription-sc-lcgb2a-12 coimxW">ELK란??</p></div></a><a class="RelatedPosts__PostCard-sc-lcgb2a-3 dUTYmq" href="/topic-partition-segment/"><div class="RelatedPosts__ThumbnailContainer-sc-lcgb2a-4 dtxVgY"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained RelatedPosts__Thumbnail-sc-lcgb2a-5 cDpkDg"><div style="max-width:400px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;400&#x27;%20width=&#x27;400&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=webp 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=webp 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=webp 225w" sizes="(min-width: 225px) 225px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 225px) 225px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=png 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=png 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png 225w" alt="Topic, Partition, Segment에 대해서 알아보자"/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=webp 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=webp 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=webp 225w" sizes="(min-width: 225px) 225px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 225px) 225px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=png 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=png 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png 225w" alt="Topic, Partition, Segment에 대해서 알아보자"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="RelatedPosts__PostContent-sc-lcgb2a-6 tVNKu"><h4 class="RelatedPosts__PostTitle-sc-lcgb2a-7 QteXc">Topic, Partition, Segment에 대해서 알아보자</h4><div class="RelatedPosts__PostMeta-sc-lcgb2a-8 lokAPW"><div class="RelatedPosts__Categories-sc-lcgb2a-9 jgXTti"><span class="RelatedPosts__CategoryTag-sc-lcgb2a-10 gpIJJD">#<!-- -->Kafka</span></div><span class="RelatedPosts__PostDate-sc-lcgb2a-11 icYiKK">2024-12-03</span></div><p class="RelatedPosts__PostDescription-sc-lcgb2a-12 coimxW">Topic, Partition, Segment에 대해서 알아보자</p></div></a><a class="RelatedPosts__PostCard-sc-lcgb2a-3 dUTYmq" href="/msa-kafka-2/"><div class="RelatedPosts__ThumbnailContainer-sc-lcgb2a-4 dtxVgY"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained RelatedPosts__Thumbnail-sc-lcgb2a-5 cDpkDg"><div style="max-width:400px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;400&#x27;%20width=&#x27;400&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=webp 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=webp 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=webp 225w" sizes="(min-width: 225px) 225px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 225px) 225px, 100vw" decoding="async" loading="lazy" data-src="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png" data-srcset="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=png 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=png 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png 225w" alt=" MSA환경에서 Kafka 실습하기(2)"/></picture><noscript><picture><source type="image/webp" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=webp 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=webp 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=webp 225w" sizes="(min-width: 225px) 225px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 225px) 225px, 100vw" decoding="async" loading="lazy" src="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png" srcSet="https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=56&amp;h=56&amp;q=50&amp;fm=png 56w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=113&amp;h=113&amp;q=50&amp;fm=png 113w,https://images.ctfassets.net/jlqgu0ptb6o6/7GPjyGw8HBLpDZMNpOV70v/5eca3f6fed4df3d3c832dd578f3ff185/kafka-img.png?w=225&amp;h=225&amp;q=50&amp;fm=png 225w" alt=" MSA환경에서 Kafka 실습하기(2)"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="RelatedPosts__PostContent-sc-lcgb2a-6 tVNKu"><h4 class="RelatedPosts__PostTitle-sc-lcgb2a-7 QteXc"> MSA환경에서 Kafka 실습하기(2)</h4><div class="RelatedPosts__PostMeta-sc-lcgb2a-8 lokAPW"><div class="RelatedPosts__Categories-sc-lcgb2a-9 jgXTti"><span class="RelatedPosts__CategoryTag-sc-lcgb2a-10 gpIJJD">#<!-- -->Kafka</span></div><span class="RelatedPosts__PostDate-sc-lcgb2a-11 icYiKK">2024-08-16</span></div><p class="RelatedPosts__PostDescription-sc-lcgb2a-12 coimxW">MSA환경에서 Kafka 실습하기(2)</p></div></a></div></div></main><footer class="Footer__Wrapper-sc-1y9s7zp-0 etICMB"><div>Thank You for Visiting My Blog, Have a Good Day 😆</div><div>Copyright © 2025 Minchur</div></footer><button title="맨 위로" class="ScrollToTop__ScrollButton-sc-1y5nzro-0 eqFUoL">↑</button></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/isr-replication/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-6d7a1c188043fcb0a990.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-d61dbdd82d3e1734a539.js\"],\"component---src-pages-contentful-post-slug-tsx\":[\"/component---src-pages-contentful-post-slug-tsx-5cf5df7dfa36d563ad6b.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-c7e33f7c47f729a37a1f.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="a8b42df05f39bf2ea149";</script><script src="/webpack-runtime-9e35f0e5e9b33695a376.js" async></script><script src="/framework-e67603f411ece23791c4.js" async></script><script src="/2e3a845b-c05f7e193e0f383f054f.js" async></script><script src="/app-6d7a1c188043fcb0a990.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>